<div>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top zi">

        <!-- <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button> -->

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a>
                        <h1 style="color: white;" routerLink="/">SecureIndia</h1>
                    </a>
                </li>
            </ul>
            <form class="form-inline" #f=ngForm style="width: 50%;" (ngSubmit)="doSomethingOnClick($event)">
                <input type="search" class=" form-control searchBar" (keyup.enter)='doSomething($event)' type="text" placeholder="Search" aria-label="Search">
                <button class="btn" type="submit"><i class="fa fa-search"></i></button>
            </form>
            <ul class="navbar-nav">
                <ng-template #anonymousUser>
                    <li class="nav-item">
                        <a class="nav-link" (click)="login()">Login</a>
                    </li>
                </ng-template>
                <li ngbDropdown *ngIf="appUser; else anonymousUser" class="nav-item dropdown">
                    <a ngbDropdownToggle class="nav-link dropdown-toggle" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          {{ appUser.name }}
        </a>
                    <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
                        <a class="dropdown-item" routerLink="/my/orders">My Orders</a>
                        <ng-container *ngIf="appUser.isAdmin">
                            <a class="dropdown-item" routerLink="/admin/orders">Manage Orders</a>
                            <a class="dropdown-item" routerLink="/admin/products">Manage Products</a>
                            <a class="dropdown-item" routerLink="/admin/home">Manage Home</a>
                        </ng-container>
                        <a class="dropdown-item" (click)="logout()">Log Out</a>
                    </div>
                </li>
            </ul>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" routerLink="/shopping-cart">
                        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                        <span class="badge badge-warning badge-pill" *ngIf="cart$ | async as cart">
              {{ cart.totalItemsCount }}
            </span>
                    </a>
                </li>
            </ul>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
        </div>
    </nav>
</div>
<div>
    <nav class="navbar navbar-expand-md fixed-top fp">

        <ng-container *ngFor="let mc of mainCategories; let i=index">
            <ul class="navbar-nav MyMargin" (mouseenter)="$event.stopPropagation(); myDrop.open();" (mouseleave)="$event.stopPropagation(); myDrop.close();">
                <li ngbDropdown class="nav-item dropdown" #myDrop="ngbDropdown">
                    <a ngbDropdownToggle class="dropdown-toggle cwhite" id="i" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            {{mc.payload.val().name}} 
          </a>
                    <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="i">
                        <div *ngFor="let l of mc.categories">
                            <a class="dropdown-item" (click)="navigate(mc.payload.val().name,l.name)">{{l.name}}</a>
                        </div>
                    </div>
                </li>
            </ul>
        </ng-container>
        <!-- <ul class="navbar-nav MyMargin">
            <li ngbDropdown class="nav-item dropdown">
                <a ngbDropdownToggle class="dropdown-toggle cwhite" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Surveilance
    </a>
                <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
                    <a class="dropdown-item" routerLink="/my/orders">My Orders</a>
                    <a class="dropdown-item" routerLink="/admin/orders">Manage Orders</a>
                    <a class="dropdown-item" routerLink="/admin/products">Manage Products</a>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav MyMargin">
            <li ngbDropdown class="nav-item dropdown">
                <a ngbDropdownToggle class="dropdown-toggle cwhite" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Surveilance
  </a>
                <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
                    <a class="dropdown-item" routerLink="/my/orders">My Orders</a>
                    <a class="dropdown-item" routerLink="/admin/orders">Manage Orders</a>
                    <a class="dropdown-item" routerLink="/admin/products">Manage Products</a>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav MyMargin">
            <li ngbDropdown class="nav-item dropdown">
                <a ngbDropdownToggle class="dropdown-toggle cwhite" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  Surveilance
</a>
                <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
                    <a class="dropdown-item" routerLink="/my/orders">My Orders</a>
                    <a class="dropdown-item" routerLink="/admin/orders">Manage Orders</a>
                    <a class="dropdown-item" routerLink="/admin/products">Manage Products</a>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav MyMargin">
            <li ngbDropdown class="nav-item dropdown">
                <a ngbDropdownToggle class="dropdown-toggle cwhite" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  Surveilance
</a>
                <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
                    <a class="dropdown-item" routerLink="/my/orders">My Orders</a>
                    <a class="dropdown-item" routerLink="/admin/orders">Manage Orders</a>
                    <a class="dropdown-item" routerLink="/admin/products">Manage Products</a>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav MyMargin">
            <li ngbDropdown class="nav-item dropdown">
                <a ngbDropdownToggle class="dropdown-toggle cwhite" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  Surveilance
</a>
                <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
                    <a class="dropdown-item" routerLink="/my/orders">My Orders</a>
                    <a class="dropdown-item" routerLink="/admin/orders">Manage Orders</a>
                    <a class="dropdown-item" routerLink="/admin/products">Manage Products</a>
                </div>
            </li>
        </ul> -->
    </nav>
</div>
<script>
    const $dropdown = $(".dropdown");
    const $dropdownToggle = $(".dropdown-toggle");
    const $dropdownMenu = $(".dropdown-menu");
    const showClass = "show";

    $(window).on("load resize", function() {
        if (this.matchMedia("(min-width: 768px)").matches) {
            $dropdown.hover(
                function() {
                    const $this = $(this);
                    $this.addClass(showClass);
                    $this.find($dropdownToggle).attr("aria-expanded", "true");
                    $this.find($dropdownMenu).addClass(showClass);
                },
                function() {
                    const $this = $(this);
                    $this.removeClass(showClass);
                    $this.find($dropdownToggle).attr("aria-expanded", "false");
                    $this.find($dropdownMenu).removeClass(showClass);
                }
            );
        } else {
            $dropdown.off("mouseenter mouseleave");
        }
    });
</script>